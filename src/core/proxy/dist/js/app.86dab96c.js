(function(e){function t(t){for(var o,s,l=t[0],i=t[1],c=t[2],d=0,p=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,l=1;l<n.length;l++){var i=n[l];0!==r[i]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},a=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0794":function(e,t,n){"use strict";var o=n("8b7c"),r=n.n(o);r.a},1:function(e,t){},"1eef":function(e,t,n){"use strict";var o=n("21f4"),r=n.n(o);r.a},"21f4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"app-header"},[n("we-header")],1),n("div",{staticClass:"app-content"},[n("div",{staticClass:"app-sidebar"},[n("we-sidebar")],1),n("div",{staticClass:"app-main"},[n("router-view")],1)])])},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"we-sidebar"},[n("el-menu",{staticClass:"sidebar-menu",attrs:{"default-active":"1",router:!0,"background-color":"#2B75E8","text-color":"#fff","active-text-color":"#2b75e8"},on:{open:e.handleOpen,close:e.handleClose}},[n("el-menu-item",{attrs:{route:{name:"request"},index:"1"}},[n("i",{staticClass:"el-icon-s-data"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("请求监测")])]),n("el-menu-item",{attrs:{route:{name:"rules"},index:"2"}},[n("i",{staticClass:"el-icon-edit-outline"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("拦截规则")])]),n("el-menu-item",{attrs:{route:{name:"host"},index:"3"}},[n("i",{staticClass:"el-icon-document"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("HOST管理")])]),n("el-menu-item",{attrs:{route:{name:"mock"},index:"4"}},[n("i",{staticClass:"el-icon-s-operation"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("MOCK")])]),n("el-menu-item",{attrs:{route:{name:"prod"},index:"5"}},[n("i",{staticClass:"el-icon-s-operation"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("线上调试")])]),n("el-menu-item",{attrs:{route:{name:"check"},index:"6"}},[n("i",{staticClass:"el-icon-s-operation"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("字段校验")])])],1)],1)},l=[],i={methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)}}},c=i,u=(n("0794"),n("2877")),d=Object(u["a"])(c,s,l,!1,null,null,null),p=d.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"we-header"},[n("div",{staticClass:"we-header-text"},[e._v("weProxy")]),n("div",[n("el-switch",{attrs:{"active-color":"#2b75e8","inactive-color":"#dcdfe6"},on:{change:e.handleSwitch},model:{value:e.openProxy,callback:function(t){e.openProxy=t},expression:"openProxy"}}),n("span",{staticClass:"proxy-remind-text",class:{active:e.openProxy}},[e._v("代理已"+e._s(e.openProxy?"开启":"关闭"))])],1)])},m=[],h={data:function(){return{openProxy:!1}},methods:{handleSwitch:function(e){e?this.$ipcRenderer.send("startProxy"):this.$ipcRenderer.send("stopProxy")}}},v=h,b=(n("1eef"),Object(u["a"])(v,f,m,!1,null,null,null)),_=b.exports,w={components:{weSidebar:p,weHeader:_},mounted:function(){console.log(this,"store")}},y=w,x=(n("ce8e"),Object(u["a"])(y,r,a,!1,null,"5a02b2fa",null)),g=x.exports,C=n("8c4f"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-request"},[n("div",{staticClass:"request-header"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.handleClear}},[e._v("Clear")])],1),n("div",{staticClass:"request-content"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.requests,border:""},on:{"row-click":e.handleDetail}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{prop:"method",label:"方法",width:"180"}}),n("el-table-column",{attrs:{prop:"statusCode",label:"状态",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{class:e.handleFormatClass(t.row.statusCode)},[e._v(" "+e._s(t.row.statusCode)+" ")])]}}])}),n("el-table-column",{attrs:{prop:"url",label:"url"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.url)+" ")]}}])}),n("el-table-column",{attrs:{prop:"startTime",width:"100",label:"请求时长"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.handleFormatTime(t.row))+" ")]}}])}),n("el-table-column",{attrs:{label:"操作",width:"180",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.handleDetail(t.row)}}},[e._v("查看")]),n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.handleAddRule(t.row)}}},[e._v("拦截")])]}}])})],1)],1),n("el-drawer",{attrs:{"custom-class":"request-drawer",title:"请求详情",visible:e.drawer,direction:"rtl",size:"500px"},on:{"update:visible":function(t){e.drawer=t}}},[n("div",{staticClass:"request-detail"},[n("div",{staticStyle:{"font-weight":"600",color:"red"}},[e._v("response")]),n("div"),"POST"===e.detail.method&&e.detail.resBody?n("pre",{domProps:{innerHTML:e._s(JSON.stringify(JSON.parse(e.detail.resBody),null,2))}}):e._e(),n("div",{staticStyle:{"font-weight":"600",color:"red"}},[e._v("request")]),n("pre",[e._v("method: "+e._s(e.detail.method))]),n("pre",[e._v("url: "+e._s(e.get(e.detail,"req.url","")))]),n("div",e._l(Object.entries(e.get(e.detail,"req.headers",{})),(function(t){return n("div",{key:t[0]},[n("pre",[e._v(e._s(t[0])+": ")]),n("pre",[e._v(e._s(t[1]))])])})),0)])])],1)},O=[],q=n("5530"),S=n("2f62"),P=n("2ef0"),j={data:function(){return{drawer:!1,detail:{}}},computed:Object(q["a"])({},Object(S["b"])({requests:"getRequests"})),methods:{get:P["get"],handleDetail:function(e){this.drawer=!0,this.detail=e},handleAddRule:function(e){console.log(e)},handleClear:function(){this.$store.commit("clear")},handleFormatTime:function(e){return e.endTime?"".concat(e.endTime-e.startTime,"ms"):""},handleFormatClass:function(e){var t="".concat(e)&&"".concat(e)[0],n="";switch(t){case"2":n="code-success";break;case"3":n="code-warning";break;case"4":n="code-error";break;case"5":n="code-error";break}return n}}},T=j,$=(n("70cc"),Object(u["a"])(T,k,O,!1,null,null,null)),R=$.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-rules"},[e._v(" this is rules ")])},M=[],F={},J=F,B=Object(u["a"])(J,E,M,!1,null,null,null),D=B.exports;o["default"].use(C["a"]);var H=[{path:"/request",name:"request",component:R},{path:"/rules",name:"rules",component:D},{path:"/host",name:"host",component:D},{path:"/mock",name:"mock",component:D},{path:"/prod",name:"prod",component:D},{path:"/check",name:"check",component:D},{path:"*",redirect:"/request"}],z=new C["a"]({mode:"history",base:"/",routes:H}),A=z,N=n("5c96"),K=n.n(N);n("0fae"),n("cd22"),n("fb6a");o["default"].use(S["a"]);var L=new S["a"].Store({state:{requests:[]},getters:{getRequests:function(e){return e.requests.slice(0,20)}},mutations:{addRequest:function(e,t){e.requests.unshift(t)},clear:function(e){e.requests=[]}}}),G=L,I=n("8055"),Q=n.n(I),U=Q()("http://localhost:3000");U.on("connect",(function(){console.log("client => connect"),G.commit("setSocketStatus",!0)})),U.on("update",(function(e){console.log("event",e),G.commit("addRequest",e)})),U.on("disconnect",(function(){console.log("disconnect")})),o["default"].prototype.$socket=U,console.log("excute"),o["default"].use(K.a,{size:"mini"}),o["default"].config.productionTip=!1,new o["default"]({store:G,router:A,render:function(e){return e(g)}}).$mount("#app")},"70cc":function(e,t,n){"use strict";var o=n("b045"),r=n.n(o);r.a},"8b7c":function(e,t,n){},b045:function(e,t,n){},cd22:function(e,t,n){},cd39:function(e,t,n){},ce8e:function(e,t,n){"use strict";var o=n("cd39"),r=n.n(o);r.a}});
//# sourceMappingURL=app.86dab96c.js.map